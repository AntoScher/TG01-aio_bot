import os
from dotenv import load_dotenv
import logging
from aiogram import Bot, Dispatcher, F
from aiogram.filters import CommandStart, Command
from aiogram.types import Message
import random
# Загрузка переменных окружения из файла .env
load_dotenv()
API_TOKEN = os.getenv('TELEGRAM_API_TOKEN')
# Настройка логирования
logging.basicConfig(level=logging.INFO)
# Инициализация бота и диспетчера
bot = Bot(token=API_TOKEN)
dp = Dispatcher()
# Пример хендлера с использованием CommandStart
@dp.message(CommandStart())
async def start(message: Message):
    await message.answer("Привет, я бот, который расскажет про погоду в вашем городе!")

# Пример хендлера с использованием Command
@dp.message(Command(commands=["help"]))
async def help_command(message: Message):
     await message.answer("Этот бот умеет выполнять команды:\n/start\n/help\n/weather\n/photo")

@dp.message(Command('photo'))
async def photo(message: Message):
        list = ['https://img.freepik.com/free-photo/aerial-view-cityscape_181624-49144.jpg?t=st=1736866268~exp=1736869868~hmac=31513cf5f805885d61f0acf3e40afc2f4b6eb226a13fc61d58a3a9f1769b7a9e&w=1480

']
        #list = ['https://img.freepik.com/premium-photo/borscht-soup-borscht-with-meat-wooden-white-background_560930-1776.jpg']
        rand_photo = random.choice(list)
        await message.answer_photo(photo=rand_photo, caption='Это супер крутая картинка')





# Прописываем хендлер и варианты ответов на команду /weather:


async def main():
    await dp.start_polling(bot)

if __name__ == "__main__":
    import asyncio
    asyncio.run(main())

    """@dp.message(F.photo)
    async def react_photo(message: Message):
        list = ['Ого, какая фотка!', 'Непонятно, что это такое', 'Не отправляй мне такое больше']
        rand_answ = random.choice(list)
        await message.answer(rand_answ)"""

    """@dp.message(Command('photo'))
    async def photo(message: Message):
        list = ['https://img.freepik.com/premium-photo/borscht-soup-borscht-with-meat-wooden-white-background_560930-1776.jpg']
        rand_photo = random.choice(list)
        await message.answer_photo(photo=rand_photo, caption='Это супер крутая картинка')"""
